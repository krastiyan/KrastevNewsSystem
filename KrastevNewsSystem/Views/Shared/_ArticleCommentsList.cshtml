@model IEnumerable<KrastevNewsSystem.Models.NewsArticleComment>

@*<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Content)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PostedOn)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CommentedNewsArticleID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CommentRepliedToID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CommentRepliedToAuthor)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CommentRepliedToDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CommentAuthor)
        </th>
        <th></th>
    </tr>*@
    @foreach (var comment in Model)
    {
        if (comment.CommentRepliedTo != null)
        {
            <div>
                In reply to: @comment.CommentRepliedTo.CommentAuthor.UserName since: @comment.CommentRepliedTo.PostedOn
            </div>
        }
        <div>
            @Html.LabelFor(c => comment.CommentAuthor)
            @Html.DisplayTextFor(c => comment.CommentAuthor.UserName)
            @*By @comment.CommentAuthor.UserName made @comment.PostedOn*@
            <br />
            @Html.LabelFor(c => comment.PostedOn)
            @Html.DisplayTextFor(c => comment.PostedOn)
        </div>
                <p>
                    @comment.Content
                </p>
                <div>
                    <span>
                        @Html.ActionLink("Reply to Comment", "Reply", "ArticleComment", new { commentedPostID = article.ArticleID, commentID = comment.Id }, null)
                    </span>
                    <span>
                        @Html.ActionLink("Delete Comment", "Delete", "ArticleComment", new { commentID = comment.Id }, null)
                    </span>
                </div>
    }


@*@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Content)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.PostedOn)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CommentedNewsArticleID)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CommentRepliedToID)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CommentRepliedToAuthor)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CommentRepliedToDate)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CommentAuthor)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.Id }) |
            @Html.ActionLink("Details", "Details", new { id=item.Id }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.Id })
        </td>
    </tr>
}*@

</table>
